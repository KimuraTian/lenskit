configurations {
    analyze
}
repositories {
    maven {
        url "https://nexus.bedatadriven.com/content/groups/public/"
    }
}
dependencies {
    analyze localGroovy()
    analyze group: 'org.lenskit', name: 'lenskit-test', version: project.lenskitVersion
    analyze group: 'org.renjin', name: 'renjin-script-engine', version: '0.8.2340'
    analyze group: 'org.renjin.cran', name: 'assertive.files', version: '0.0-2-b9'
    analyze group: 'org.renjin.cran', name: 'assertive.sets', version: '0.0-3-b2'
    analyze group: 'org.renjin.cran', name: 'assertive.properties', version: '0.0-4-b2'
}

task verifyR(type: JavaExec) {
    classpath configurations.analyze
    main 'org.lenskit.util.test.RunScript'
    args file('verify.R')
    onlyIf {
        file('verify.R').exists()
    }
}
check.dependsOn verifyR
